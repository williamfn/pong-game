function preload(){game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,game.scale.pageAlignHorizontally=!0,game.scale.pageAlignVertically=!0,game.load.image("background","assets/background.jpg"),game.load.image("paddle","assets/paddle.png"),game.load.image("ball","assets/ball.png"),game.load.spritesheet("button","assets/button.png",120,40)}function create(){game.physics.startSystem(Phaser.Physics.ARCADE),game.add.tileSprite(0,0,game.width,game.height,"background"),startButton=game.add.button(game.world.centerX,game.world.centerY+.25*game.world.height,"button",startGame,this,1,0,2),startButton.anchor.set(.5),addDivisorLine(),playerPaddle=createPaddle(game.world.centerX,game.world.height-paddleHeight),computerPaddle=createPaddle(game.world.centerX,paddleHeight),playerPaddleHalfWidth=playerPaddle.width/2,ball=createBall(),game.input.onDown.add(startGame,this),computerText=game.add.text(10,game.world.centerY-56,"Computer 0",textStyle),playerText=game.add.text(10,game.world.centerY+16,"Player 0",textStyle),game.physics.arcade.checkCollision.up=!1,game.physics.arcade.checkCollision.down=!1}function update(){playerPaddle.x=game.input.x,playerUpdate(playerPaddle),computerUpdate(computerPaddle),game.physics.arcade.collide(ball,playerPaddle,ballHitsPaddle),game.physics.arcade.collide(ball,computerPaddle,ballHitsPaddle)}function createPaddle(e,a){var l=game.add.sprite(e,a,"paddle");return game.physics.enable(l,Phaser.Physics.ARCADE),l.anchor.setTo(.5),l.body.collideWorldBounds=!0,l.body.bounce.setTo(1),l.body.immovable=!0,l}function createBall(){return ball=game.add.sprite(game.world.centerX,game.world.centerY,"ball"),game.physics.enable(ball,Phaser.Physics.ARCADE),ball.anchor.setTo(.5),ball.body.collideWorldBounds=!0,ball.body.bounce.setTo(1),ball.checkWorldBounds=!0,ball.events.onOutOfBounds.add(ballLeaveScreen,this),ball}function releaseBall(){if(!ballReleased||!gameStarted){var e=game.rnd.integerInRange(-game.world.width,game.world.width),a=(parseInt(50*Math.random())+ballSpeedBase)*Phaser.Utils.randomChoice(-1,1);ball.body.velocity.set(e,a),ballReleased=!0}}function ballHitsPaddle(e,a){var l=0;e.x<a.x?(l=a.x-e.x,e.body.velocity.x=-10*l):e.x>a.x?(l=e.x-a.x,e.body.velocity.x=10*l):e.body.velocity.x=2+8*Math.random()}function ballLeaveScreen(e){e.y>game.world.height?computerText.setText("Computer "+ ++computerScore):e.y<game.world.height&&playerText.setText("Player "+ ++playerScore),e.reset(game.world.centerX,game.world.centerY),computerPaddle.reset(game.world.centerX,paddleHeight),ballReleased=!1}function addDivisorLine(){game.divisorLine=game.add.graphics(0,0),game.divisorLine.lineStyle(16,"0xCDD2D4",.75),game.divisorLine.moveTo(0,game.world.centerY),game.divisorLine.lineTo(game.world.width,game.world.centerY)}function startGame(){startButton.destroy(),gameStarted=!0,releaseBall()}function playerUpdate(e){e.x?e.x<playerPaddleHalfWidth?e.x=playerPaddleHalfWidth:e.x>game.width-playerPaddleHalfWidth&&(e.x=game.width-playerPaddleHalfWidth):e.x=game.world.centerX}function computerUpdate(e){e.body.velocity.x=e.x-ball.x<-paddleHeight?computerPaddleSpeed:e.x-ball.x>paddleHeight?-computerPaddleSpeed:0}var game=new Phaser.Game(480,640,Phaser.AUTO,null,{preload:preload,create:create,update:update}),playerPaddle,computerPaddle,ball,computerPaddleSpeed=200,ballSpeedBase=250,ballReleased=!1,paddleHeight=20,playerPaddleHalfWidth=0,startButton,textStyle={font:"36px Arial",fill:"#CDD2D4"},computerText,computerScore=0,playerText,playerScore=0,gameStarted=!1;